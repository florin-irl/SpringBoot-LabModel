<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" layout:decorate="~{layout.html}">
<head>
    <title>User Management</title>
</head>
<body>
<div layout:fragment="content">
    <h1 class="text-3xl font-bold text-gray-800 mb-4">User Management</h1>
    <table class="min-w-full bg-white border border-gray-200 rounded-lg">
        <thead>
        <tr class="bg-indigo-600 text-white">
            <th class="px-4 py-2 text-left">Username</th>
            <th class="px-4 py-2 text-left">Email</th>
            <th class="px-4 py-2 text-left">Roles</th>
            <th class="px-4 py-2 text-center">Actions</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="user : ${users}" class="border-b hover:bg-gray-50">
            <td class="px-4 py-2" th:text="${user.username}"></td>
            <td class="px-4 py-2" th:text="${user.email}"></td>
            <td class="px-4 py-2">
                <ul>
                    <li th:each="role : ${user.roles}" th:text="${role.name}" class="text-sm"></li>
                </ul>
            </td>
            <td class="px-4 py-2 text-center">
                <a th:href="@{/admin/users/{userId}/roles(userId=${user.id})}" class="text-blue-600 hover:underline">
                    Update Roles
                </a>
            </td>
        </tr>
        </tbody>
    </table>
</div>
</body>
</html>
