<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">
<head>
    <meta charset="UTF-8">
    <title>Lab. Model - Admin</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css">
</head>
<body class="min-h-screen flex flex-col bg-gray-100">

<!-- Top Bar -->
<header class="bg-white shadow-md fixed w-full z-10">
    <div class="container mx-auto flex justify-between items-center p-4">
        <!-- Application Name -->
        <div class="text-2xl font-bold text-indigo-600">Lab. Model</div>

        <!-- Profile Section -->
        <div x-data="{ open: false }" class="relative flex items-center space-x-4">
            <span class="text-gray-700 font-medium" th:text="${#authentication.name}"></span>
            <div @click="open = !open" class="flex items-center space-x-1 cursor-pointer">
                <!-- Profile Circle -->
                <div class="w-10 h-10 bg-indigo-500 rounded-full flex items-center justify-center">
                    <!-- First Letter of the Principal -->
                    <span class="text-white font-semibold"
                          th:text="${#strings.toUpperCase(#authentication.name.substring(0,1))}"></span>
                </div>
                <!-- Dropdown Arrow -->
                <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4 text-gray-600" fill="none" viewBox="0 0 24 24"
                     stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                          d="M19 9l-7 7-7-7"></path>
                </svg>
            </div>

            <!-- Submenu Dropdown -->
            <div x-show="open" @click.away="open = false"
                 class="absolute right-0 top-full mt-2 w-48 bg-white rounded-lg shadow-lg text-gray-800 z-50">

                <ul class="py-1">
                    <li>
                        <a href="#"
                           class="block px-4 py-2 hover:bg-gray-100">
                            Profile Settings
                        </a>
                    </li>
                    <li>
                        <a href="#"
                           class="block px-4 py-2 hover:bg-gray-100">
                            Configuration
                        </a>
                    </li>
                    <li>
                        <form th:action="@{/logout}" method="post" class="w-full">
                            <button type="submit"
                                    class="block w-full text-left px-4 py-2 hover:bg-gray-100">
                                Logout
                            </button>
                        </form>
                    </li>
                </ul>

            </div>
        </div>
    </div>
</header>

<!-- Main Layout -->
<div class="flex flex-1 pt-16">
    <!-- Sidebar -->
    <nav class="w-64 bg-white shadow-md fixed h-full">
        <ul class="mt-10">
            <li class="px-6 py-2">
                <a th:href="@{/admin/dashboard}" class="flex items-center text-gray-700 hover:text-indigo-600 hover:bg-gray-100 rounded-md px-2 py-2">
                    <!-- Icon -->
                    <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 mr-3" fill="none" viewBox="0 0 24 24"
                         stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                              d="M3 12l2-2m0 0l7-7 7 7M13 5v6h6m-6 0H7m6 0v6m0-6h6"/>
                    </svg>
                    <span>Dashboard</span>
                </a>
            </li>
            <li class="px-6 py-2">
                <a th:href="@{/admin/users}" class="flex items-center text-gray-700 hover:text-indigo-600 hover:bg-gray-100 rounded-md px-2 py-2">
                    <!-- Icon -->
                    <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 mr-3" fill="none" viewBox="0 0 24 24"
                         stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                              d="M17 20h5v-2a4 4 0 00-4-4H5a4 4 0 00-4 4v2h5m7-16a4 4 0 00-4-4 4 4 0 00-4 4v4h8V4zm2 4h4m-2-2v4"/>
                    </svg>
                    <span>User Management</span>
                </a>
            </li>
            <li class="px-6 py-2">
                <a th:href="@{/admin/roles}" class="flex items-center text-gray-700 hover:text-indigo-600 hover:bg-gray-100 rounded-md px-2 py-2">
                    <!-- Icon -->
                    <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 mr-3" fill="none" viewBox="0 0 24 24"
                         stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                              d="M5 3v4M3 5h4m6 6h.01M19 3v4m-2-2h4M15 13a2 2 0 100-4 2 2 0 000 4zm-6 6h.01M3 19v-4m2 2h-4m14 2v-4m-2 2h4"/>
                    </svg>
                    <span>Role Management</span>
                </a>
            </li>
        </ul>
    </nav>

    <!-- Content Area -->
    <main class="flex-1 bg-gray-50 p-8 ml-64">
        <div layout:fragment="content"></div>
    </main>
</div>

<script src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js" defer></script>
</body>
</html>
